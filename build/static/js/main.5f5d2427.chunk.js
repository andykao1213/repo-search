(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(265)},108:function(e,t,a){},265:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(15),s=a.n(r),i=(a(108),a(28)),c=a(90),l=a(91),h=a(102),p=a(92),u=a(101),d=a(27),m=a(50),g=a(95),f=a.n(g),v=a(26),y=a.n(v),w=a(51),E=a.n(w),b=a(52),j=a.n(b),S=a(35),k=a.n(S),O=a(98),N=a.n(O),C=a(99),D=a.n(C),K=a(96),W=a.n(K),_=a(93),T=a.n(_),x=a(97),B=a.n(x),L=a(100),P=a.n(L),H=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={searching:!1,total_count:0,repoStore:[],repos:[],loading:!1,searchKeyWord:"",page:1,end:!1,lastChange:new Date},a.handleScroll=function(e){var t=Math.max(document.body.offsetHeight-(window.pageYOffset+window.innerHeight),0);if(!a.state.loading&&t<=20&&!a.state.end)if(a.state.repoStore.length){var n=a.state.repoStore,o=a.state.repoStore.slice(0,10);n.splice(0,10),a.setState({repoStore:n,repos:[].concat(Object(i.a)(a.state.repos),Object(i.a)(o))})}else a.setState({loading:!0,page:a.state.page+1}),a.fetchData(a.state.searchKeyWord,!0)},a.handleKeyPress=function(e){"Enter"===e.key&&e.target.value.trim()&&e.target.value!==a.state.searchKeyWord&&(a.fetchData(e.target.value,!1),a.setState({loading:!0}))},a.handleChange=function(e){clearTimeout(a.timing),a.timing=setTimeout(function(e){e.trim()&&e!==this.state.searchKeyWord&&(this.fetchData(e,!1),this.setState({loading:!0}))}.bind(Object(d.a)(Object(d.a)(a))),3e3,e.target.value)};setTimeout(function(){},0);return a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"fetchData",value:function(e,t){var a=this;fetch("https://api.github.com/search/repositories?q=".concat(e,"&page=").concat(this.state.page,"&per_page=100"),{headers:{"Content-Type":"application/json"},method:"GET"}).then(function(e){if(e.ok)return e.json();throw Error(e.statusText)}).then(function(n){var o=n.total_count,r=n.items;if(r.length){var s=r.slice(0,10),c=r;c.splice(0,10),a.setState({total_count:o,repos:t?[].concat(Object(i.a)(a.state.repos),Object(i.a)(s)):s,searching:!0,loading:!1,searchKeyWord:e,repoStore:c})}else a.setState({end:!0})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement("div",{className:e.container},o.a.createElement(y.a,{component:"h2",variant:"h1",gutterBottom:!0},"GitHub Repo Finder"),o.a.createElement(f.a,{id:"outlined-full-width",style:{margin:8},placeholder:"Search Repo",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},onKeyPress:this.handleKeyPress,onChange:this.handleChange}),o.a.createElement(E.a,{className:e.root},this.state.searching?o.a.createElement(j.a,{className:e.catalog},o.a.createElement(y.a,{variant:"h6",gutterBottom:!0},this.state.total_count," repository results")):"",T.a.map(this.state.repos,function(t,a){return o.a.createElement("div",{key:a},o.a.createElement(W.a,{component:"li"}),o.a.createElement(j.a,null,o.a.createElement(k.a,{className:e.repoName,primary:o.a.createElement(B.a,{href:t.html_url,className:e.link},t.full_name),secondary:t.language}),o.a.createElement(k.a,{secondary:t.description,className:e.repoDes}),o.a.createElement(N.a,{className:e.repoLang},o.a.createElement(D.a,null),o.a.createElement(k.a,{primary:t.stargazers_count}))))}),this.state.loading&&!this.state.end?o.a.createElement("div",{className:e.progress},o.a.createElement(P.a,null)):"")))}}]),t}(o.a.Component),G=Object(m.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,position:"relative"},container:{position:"relative",marginTop:"50px",width:"60%",left:"50%",transform:"translateX(-50%)"},catalog:{display:"flex",justifyContent:"space-between"},progress:{display:"flex",justifyContent:"center"},repoName:{width:"35%"},repoDes:{width:"55%"},repoLang:{width:"10%"}}})(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,2,1]]]);
//# sourceMappingURL=main.5f5d2427.chunk.js.map